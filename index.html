<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Giphy-Fi Your Life!</title>
</head>
<!-- apiKey: vwjEaicXiBQNO5Az3PFZsFId8bpWeYtd -->

<body>

    <div class="container">
        <div id="buttons">

        </div>

        <br>
        <form id="form">
            <label for="input">Spirit Animal</label>
            <input type="text" id="input"><br>
            <input id="additional" type="submit" value="Submit">
        </form>

        <br>

        <div id="spirit-animal-gif">

        </div>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript" src="javascript.js"></script>

    </div>

    <script>
        var list = ["wolf", "tiger", "lion", "snake", "dragon"];
        function makeButtons() {
            $("buttons").empty();
            for (var i = 0; i < list.length; i++) {
                $("buttons").append("<button type=button class='list-button btn btn-primary'>" + list[i] + "</button>");
            };
        };
        makeButtons();
        $("#additional").on("click", function (event) {
            event.preventDefault();
            var userInputHere = $("#input").val().trim();
            if (!userInputHere == " ") {
                list.push(userInputHere);
                makeButtons();
                userInputHere = $("#input").val(" ");
            }
        }
        );

        $(document).on("click", ".list-button", function () {
            $("#spirit-animal-gif").empty();

            var apikey = "vwjEaicXiBQNO5Az3PFZsFId8bpWeYtd";
            var queryURL = "https://api.giphy.com/v1/gifs/search?q=" + $(this).html() + "&api_key=" + apiKey + "&limit=5";

            $.ajax({
                url: queryURL,
                method: "GET"
            }).done(function (response) {
                var results = response.data;
                for (var e = 0; e < results.length; e++) {
                    var nextImage = $("<img>");
                    nextImage.attr("src", results[e].images.fixed_height_still.url);
                    nextImage.attr("alt", "missing gif");
                    nextImage.attr("id", "new-gif" + e);
                    $("#spirit-animal-gif").append(nextImage);
                }

                var stopAndGoZero = false;
                $(document).on("click", "#new-gif0", function () {
                    if (!stopAndGoZero) {
                        $("#new-gif0").attr("src", results[0].images.fixed_height.url);
                        stopAndGoZero = true;
                    }
                    else {
                        $("#new-gif0").attr("src", results[0].images.fixed_height_still.url);
                        stopAndGoZero = false;
                    }
                });

                var stopAndGoOne = false;
                $(document).on("click", "#new-gif1", function () {
                    if (!stopAndGoOne) {
                        $("#new-gif1").attr("src", results[1].images.fixed_height.url);
                        stopAndGoOne = true;
                    }
                    else {
                        $("#new-gif1").attr("src", results[1].images.fixed_height_still.url);
                        stopAndGoOne = false;
                    }
                });

                var stopAndGoTwo = false;
                $(document).on("click", "#new-gif2", function () {
                    if (!stopAndGoTwo) {
                        $("#new-gif2").attr("src", results[2].images.fixed_height.url);
                        stopAndGoTwo = true;
                    }
                    else {
                        $("#new-gif2").attr("src", results[2].images.fixed_height_still.url);
                        stopAndGoTwo = false;
                    }
                });

                var stopAndGoThree = false;
                $(document).on("click", "#new-gif3", function () {
                    if (!stopAndGoThree) {
                        $("#new-gif3").attr("src", results[3].images.fixed_height.url);
                        stopAndGoThree = true;
                    }
                    else {
                        $("#new-gif3").attr("src", results[3].images.fixed_height_still.url);
                        stopAndGoThree = false;
                    }
                });

                var stopAndGoFour = false;
                $(document).on("click", "#new-gif4", function () {
                    if (!stopAndGoFour) {
                        $("#new-gif4").attr("src", results[4].images.fixed_height.url);
                        stopAndGoFour = true;
                    }
                    else {
                        $("#new-gif4").attr("src", results[4].images.fixed_height_still.url);
                        stopAndGoFour = false;
                    }
                });

            });
        })








    </script>










</body>
<img src="assets/images/giphy.gif" alt="Powered by Giphy">

</html>
